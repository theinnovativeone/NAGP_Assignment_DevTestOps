pipeline{
	agent any
		environment{
			notifyEmail = "sneha.gupta01@nagarro.com"
		}
	tools{
		maven 'Maven3'
	}
	triggers{
		cron('0 06 * * *')
	}
	stages{
		stage("code checkout"){
			steps{
				bat "echo hello"
			}
		}
		stage("code build"){
			steps{
				bat "mvn clean"
			}
		}
		stage("unit test"){
			steps{
				bat "mvn test"
			}
		}
		stage('Static Analysis') {
			steps{
      				withSonarQubeEnv('Test_SonarQube_Jenkins'){
        				bat 'mvn clean verify sonar:sonar'
   					echo 'Static Analysis Completed' 
      				}
			}
		}
		
	}
}
